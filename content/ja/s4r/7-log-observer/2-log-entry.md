---
title: 2. ログエントリの参照
weight: 2
---

特定のログ行を見る前に、これまでに何を行ってきたかと、オブザーバビリティの3本柱に基づいて、なぜここに辿り着いたのかを簡単に振り返りましょう。

| Metrics | Traces | Logs |
|:-------:|:------:|:----:|
| _**問題があるか？**_ | _**問題はどこにあるか？**_ | _**問題は何か？**_ |

* メトリクスを使用して、アプリケーションに**問題がある**ことが判明しました。これは、サービスダッシュボードのエラーレートが本来の状態よりも高かったことから明らかです。
* トレースとスパンタグを使用して、**問題がどこにあるか**を見つけました。 **paymentservice** は `v350.9` と `v350.10` の2つのバージョンで構成されており、 `v350.10` に対するエラーレートは **100%** でした。
* バージョン `v350.10` の **paymentservice** から生成されるエラーがオンラインブティックのチェックアウト処理の応答において、複数回の再試行と長時間の遅延を引き起こしていたことを確認しました。
* トレースから **Related Content** の強力な機能を使用して、失敗した **paymentservice** バージョンのログエントリに到達しました。これにより、問題が **何であるか** を特定できるようになりました。

{{% notice title="Exercise" style="green" icon="running" %}}

* Logs tables のエラーエントリをクリックします（異なるサービスからのまれなエラーがある場合は、エントリに `hostname: "paymentservice-xxxx"` と表示されていることを確認してください）。
{{< tabs >}}
{{% tab title="質問" %}}
**メッセージに基づくと、問題を解決するためには、開発チームに何を伝えますか？**
{{% /tab %}}
{{% tab title="回答" %}}
**開発チームは、有効なAPIトークンを使用してコンテナを再構築およびデプロイするか、 `v350.9` にロールバックする必要があります。**
{{% /tab %}}
{{< /tabs >}}

  ![Log Message](../images/log-observer-log-message.png)
* ログメッセージペインの **X** をクリックして閉じます。

{{% /notice %}}

{{% notice style="blue" title="おめでとうございます" icon="wine-bottle" %}}

Splunk Observability Cloud を使用することで、オンラインブティックでのショッピング中にユーザーエクスペリエンスが悪かったのはなぜかを理解することができました。オブザーバビリティの3本柱である **メトリクス**、**トレース**、**ログ** に基づいて、RUM、APM、およびログを利用することで、サービス全体で何が起こっており、その後、その根底にある原因を見つけることができました。

また、Splunkがもつ、アプリケーションの振る舞いのパターンを検出する **Tag Spotlight** による**インテリジェントなタグ付けと分析**の機能や、問題のコンテキストを維持しながら異なるコンポーネント間を素早く移動する **Related Contents** によるスタック全体を相関させる機能についても、その使い方を理解したはずです。

{{% /notice %}}

ワークショップの次のパートでは、**問題の特定** から **緩和**、 **予防**、および **プロセスの改善** に進んでいきます。

次に、カスタムダッシュボードでログチャートを作成します。
